<!DOCTYPE html>
<html>
  <body>
    <h2>Calculadora</h2>
    <p></p>

    <p>------------------------</p>
    <p id="display2" class="color"></p>
    <p id="display" class="color"></p>
    <p>------------------------</p>

    <button id="numero7" onclick="displayNumber(7)">.7.</button>
    <button id="numero8" onclick="displayNumber(8)">.8.</button>
    <button id="numero9" onclick="displayNumber(9)">.9.</button>
    <button id="por" onclick="displayOperator('*')">*</button>
    <p></p>
    <button id="numero4" onclick="displayNumber(4)">.4.</button>
    <button id="numero5" onclick="displayNumber(5)">.5.</button>
    <button id="numero6" onclick="displayNumber(6)">.6.</button>
    <button id="mas" onclick="displayOperator('+')">+</button>
    <p></p>
    <button id="numero1" onclick="displayNumber(1)">.1.</button>
    <button id="numero2" onclick="displayNumber(2)">.2.</button>
    <button id="numero3" onclick="displayNumber(3)">.3.</button>
    <button id="menos" onclick="displayOperator('-')">--</button>
    <p></p>
    <button id="numero0" onclick="displayNumber(0)">0</button>
    <button id="numero3" onclick="displayNumber('.')">.</button>
    <button id="borrar" onclick="reset()">C</button>
    <button id="igual" onclick="displayIgual()">=</button>
    <button id="mas" onclick="displayOperator('/')">/</button>

    <p>etiqueta de prueba</p>

    <script>
      var numero1;
      var numero2;
      var numCombinados = " ";
      var operadorSeleccionado = false;
      var operadorAdicional = false;
      var operador = "";
      var concat = "";
      var concatRes = "";

      function displayNumber(number) {
        numCombinados = numCombinados + number;
        mostrarPantalla("display", numCombinados);
        asignacionNum(number);
      }

      function displayOperator(texto) {
        operadorSeleccionado = true;
        numCombinados = "";
        operador = texto;
        concat = concat + texto;
        mostrarPantalla("display2", concat);
        if (operadorAdicional == true) {
          limpLcdResultado();
        }
      }

      function displayIgual() {
        switch (operador) {
          case "*":
            asigValores(multiplicar(numero1, numero2));
            operadorAdicional = true;
            break;
          case "+":
            asigValores(sumar(numero1, numero2));
            operadorAdicional = true;
            break;
          case "-":
            asigValores(restar(numero1, numero2));
            operadorAdicional = true;
            break;
          case "/":
            asigValores(dividir(numero1, numero2));
            operadorAdicional = true;
            break;
          default:
        }
      }


      function reset() {
        mostrarPantalla("display", "");
        mostrarPantalla("display2", "");
        restablecerParameters()
      }

      function restablecerParameters() {
        numero1= 0;
        numero2= 0;
        numCombinados = " ";
        operadorSeleccionado = false;
        operador = "";
        concat = "";
        concatRes = "";
      }

      function limpLcdResultado() {
        var indice = concat.lastIndexOf("=");
        if (indice !== -1) {
          concat = concat.substring(indice);
        }
        mostrarPantalla("display2", concat);
      }

      function asignacionNum(number) {
        if (operadorSeleccionado == false) {
          numero1 = parseFloat(numCombinados, 10);
          console.log(numero1);
          concat = numero1;
          mostrarPantalla("display2", concat);
        } else {
          numero2 = parseFloat(numCombinados, 10);
          console.log(numero2);
          concat = concat + number;
          mostrarPantalla("display2", concat);
        }
      }

      console.log(numero1);
      console.log(numero2);

      function sumar(x, y) {
        return x + y;
      }

      function dividir(x, y) {
        return x / y;
      }

      function restar(x, y) {
        return x - y;
      }

      function multiplicar(x, y) {
        return x * y;
      }

      function asigValores(resultado) {
        mostrarPantalla("display", resultado);
        numero1 = resultado;
        concat = sumar(sumar(concat,"="),resultado);
        mostrarPantalla("display2", concat);
      }

      function mostrarPantalla(id, textoMostrar) {
        document.getElementById(id).innerHTML = textoMostrar;
      }

    </script>
  </body>
</html>
